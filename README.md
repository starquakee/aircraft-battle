# 飞机大战 - Aircraft Battle

一个基于HTML5 Canvas和JavaScript开发的炫酷飞机大战游戏，具有丰富的武器系统、Boss战斗、能量系统和粒子特效。

## 🎮 游戏玩法

### 基本操作
- **玩家1**：WASD键控制移动
- **玩家2**（双人模式）：方向键控制移动
- **鼠标点击**：开始游戏
- **重新开始**：右上角按钮随时重新开始
- **暂停/继续**：顶部中央按钮
- **能量爆发**：能量满时按空格键激活无双状态

### 游戏模式
- **单人模式**：经典单人游戏体验
- **双人模式**：两个玩家协作作战，独立武器系统
- **难度选择**：简单（新手）、普通（标准）、困难（挑战）

### 游戏目标
- 击毁敌机获得分数
- 收集能量豆升级武器和回复血量
- 积累能量激活无双状态
- 挑战越来越强的敌机和Boss
- 尽可能获得更高的分数

### 武器系统
游戏包含10个武器等级，从单发子弹到终极武器，每个等级都有独特的射击模式和视觉效果。

## 🚀 游戏特点

### 核心系统
- **智能敌机**：普通敌机和Boss敌机，具备追踪AI
- **动态难度**：敌机血量随时间无限增长，出现频率每10秒提升10%
- **能量系统**：击中敌机获得能量，满能量可激活无双状态
- **无双状态**：双倍射击速度，每秒消耗25点能量
- **能量豆系统**：升级武器、回复血量，随机移动
- **粒子特效**：爆炸、射击、升级等各种视觉特效
- **星空背景**：动态背景动画
- **音效系统**：击中音效、爆炸音效等

### 界面功能
- **实时信息**：血量、得分、武器等级、游戏时长、能量条
- **模式选择**：开始界面可选择难度和双人模式
- **结束界面**：显示最终得分

## 🛠️ 技术特点

- **纯前端**：HTML5 Canvas + 原生JavaScript
- **面向对象**：ES6类语法，代码结构清晰
- **高性能**：60FPS流畅动画，基于deltaTime的时间系统
- **响应式**：适配不同屏幕尺寸

## 🚀 启动方式

### 本地服务器（推荐）
```bash
# Python
python -m http.server 8000

# Node.js
npx http-server

# 或直接运行 start.py
python start.py
```

然后在浏览器访问 `http://localhost:8000`

### 直接打开
双击 `index.html` 文件在浏览器中打开

## 🎮 游戏模式选择

游戏启动后，在右侧控制面板中可选择：
- **难度**：简单、普通、困难
- **双人模式**：开启/关闭

## 📁 项目结构

```
aircraft_battle/
├── bgm/                # 背景音乐
├── picture/            # 图片资源
├── sounds/             # 音效文件夹
├── index.html          # 游戏主页面
├── game.js            # 游戏逻辑代码
├── start.py           # 启动脚本
└── README.md          # 项目说明
```

## 🧱 打包为 EXE

使用 PyInstaller 打包为 Windows 可执行文件：

```powershell
pip install pyinstaller
pyinstaller --noconfirm --onefile --name AircraftBattle --add-data "index.html;." --add-data "game.js;." --add-data "bgm\KOTOKO - jihad.mp3;bgm" --add-data "picture\demo.png;picture" start.py
```

打包后运行 `dist\AircraftBattle.exe`

## ⚡ 能量系统详解

### 能量获取
- **常规状态**：击中敌机获得0.5点能量
- **无双状态**：击中敌机获得0.15点能量
- **最大能量**：100点

### 无双状态
- **激活条件**：能量值达到100%时，按下空格键激活
- **持续时间**：5秒
- **效果**：
  - 射击速度提升1.5倍
  - 移动速度提升1.5倍
  - 击中敌机时能量恢复量减少（0.15点/击）
- **消耗**：激活时消耗100%能量

## 🎯 游戏机制详解

### 敌机系统
- **血量增长**：每10秒增加初始血量的50%，无时间限制
- **出现频率**：每10秒提升初始频率的10%，无时间限制
- **Boss特性**：血量更高，子弹速度为普通敌机的1.2倍
- **AI追踪**：敌机会向玩家方向移动

### 伤害系统
- **玩家子弹**：对敌机造成1点伤害
- **敌机碰撞**：单人模式扣25血，双人模式扣15血
- **敌机子弹**：击中玩家扣15血
- **Boss奖励**：击败Boss增加5点血量上限并回复5血

## 🎯 游戏技巧

### 基础技巧
- **合理移动**：灵活躲避敌机和子弹
- **收集能量豆**：优先升级武器和回血
- **保持距离**：与敌机保持安全距离
- **专注Boss**：Boss出现时优先击败

### 能量管理
- **积极击中**：常规状态下多击中敌机快速充能
- **合理使用**：在敌机密集时激活无双状态
- **持续攻击**：无双状态下保持攻击以延长持续时间

### 双人模式技巧
- **分工合作**：一个攻击，一个收集
- **互相掩护**：血量低时主动吸引火力
- **武器平衡**：保持双方武器等级相近
- **能量协调**：轮流使用无双状态

## 🏆 评分系统
- **存活1秒**：2分
- **普通敌机**：10分
- **Boss敌机**：100分

## 🌟 更新日志

### 最新更新
- [x] ✅ **能量系统** - 击中敌机获得能量，激活无双状态
- [x] ✅ **无双状态** - 双倍射击速度，能量消耗机制
- [x] ✅ **动态难度** - 敌机血量和出现频率随时间提升
- [x] ✅ **Boss增强** - Boss子弹速度提升20%
- [x] ✅ **差异化能量恢复** - 常规/无双状态不同恢复量

### 已完成功能
- [x] ✅ **双人模式** - 已实现
- [x] ✅ **难度选择** - 已实现
- [x] ✅ **打击音效** - 已实现
- [x] ✅ **时间系统** - 基于deltaTime的流畅动画

### 未来计划
- [ ] 添加更多敌机类型
- [ ] 实现成就系统
- [ ] 增加子弹类型
- [ ] 记录对战结果
- [ ] 添加更多音效